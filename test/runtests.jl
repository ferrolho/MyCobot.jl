import MyCobot
import MyCobot.ProtocolCode as ProtocolCode

using Test

@testset "Frame Handling" begin
    # Test prepare_frame
    frame = MyCobot.prepare_frame(ProtocolCode.GET_ANGLES)
    @test frame == [0xFE, 0xFE, 0x02, 0x20, 0xFA]

    # Test extract_all_frames
    response = [0xFE, 0xFE, 0x02, 0x20, 0xFA, 0xFE, 0xFE, 0x03, 0x20, 0x01, 0xFA]
    frames = MyCobot.extract_all_frames(response)
    @test frames == [[0xFE, 0xFE, 0x02, 0x20, 0xFA], [0xFE, 0xFE, 0x03, 0x20, 0x01, 0xFA]]
end
